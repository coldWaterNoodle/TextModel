# 메디로이어 데모 웹앱

본 프로젝트는 병의원 전문 온라인 마케팅 컨설팅 및 대행 서비스 '메디로이어'의 웹 애플리케이션 데모입니다. Next.js, TypeScript, Tailwind CSS를 기반으로 구축되었으며, 데이터 관리는 Airtable을 사용합니다.

## 현재까지의 개발 상황 (YYYY-MM-DD 기준)

### 1. 주요 기능 구현 현황

- **대시보드**: 마케팅 퍼널 데이터 시각화 및 실시간 이슈(평판, 채널, 성과) 모니터링 기능 구현 완료.
- **채널별 상세 페이지**: 네이버 카페, 블로그, 홈페이지, 네이버 플레이스 각 채널의 상세 분석 페이지 UI/UX 리디자인 완료. (샘플 데이터 기반)
- **메디컨텐츠**: 콘텐츠 마케팅 워크플로우 관리 기능 구현 완료. (Airtable 연동)
- **리뷰부스터**: 플레이스홀더 페이지 생성 및 네비게이션 메뉴 추가.
- **설정**: '벤치마크 병원' 설정 등 기본 설정 페이지 UI 구현.

### 2. 기술 스택

- **프레임워크**: Next.js 15
- **언어**: TypeScript
- **스타일링**: Tailwind CSS
- **UI 컴포넌트**: shadcn/ui
- **데이터베이스**: Airtable
- **상태 관리**: React Hooks (useState, useEffect, use)
- **차트**: Recharts

---

## 📝 메디컨텐츠 (MediContent) 상세 설명

메디컨텐츠는 병원의 콘텐츠 마케팅(블로그 포스팅 등) 제작 및 관리 워크플로우를 자동화하고 효율화하는 기능입니다. 모든 데이터는 Airtable과 실시간으로 연동됩니다.

### 1. 데이터 모델 (Airtable Tables)

- `Medicontent Posts`: 모든 포스팅의 기본 정보 (제목, 유형, 상태, 발행일 등)를 관리합니다.
- `Post Data Requests`: '전환 포스팅'에 필요한 상세 자료(환자 정보, 사진 등)를 병원으로부터 요청하고 관리합니다.
- `Post Reviews`: 발행 전 포스팅의 SEO 및 의료법 준수 여부를 검토한 결과를 저장합니다.
- `Post Communications`: 포스팅과 관련하여 병원과 리걸케어 간의 커뮤니케이션 내역을 기록합니다.

### 2. 포스팅 유형 (Type)

- **유입 포스팅**: 특정 키워드로 검색하는 잠재 고객을 웹사이트나 블로그로 유입시키기 위한 정보성 콘텐츠입니다.
- **전환 포스팅**: 실제 치료 사례를 바탕으로 하여, 내원 및 예약 전환을 유도하는 콘텐츠입니다. 병원의 자료 제공이 필수적입니다.

### 3. 포스팅 상태 (Status) 및 워크플로우

포스팅의 `Status` 필드는 Airtable의 `Medicontent Posts` 테이블에서 관리되며, 현재 작업 단계를 나타냅니다. 상태 변경에 따라 사용자에게 보여지는 화면과 수행할 수 있는 작업이 달라집니다.

| 상태 (Status) | 설명 | 다음 단계 | 주요 액션 |
| :--- | :--- | :--- | :--- |
| `자료 제공 필요` | **(전환 포스팅 전용)** 리걸케어에서 포스팅을 기획하고 병원에 콘텐츠 제작에 필요한 자료를 요청한 상태. | `병원 작업 중` | 병원에서 상세 자료 입력 및 이미지 업로드 후 '임시 저장' |
| `병원 작업 중` | 병원에서 자료를 입력하고 있는 상태. | `리걸케어 작업 중` | 병원에서 '입력 완료' 버튼 클릭 |
| `대기` | **(유입 포스팅)** 리걸케어에서 포스팅 생성을 준비 중인 상태. | `리걸케어 작업 중` | 리걸케어 내부 작업 시작 |
| `리걸케어 작업 중` | 리걸케어에서 콘텐츠 초안을 작성하거나, 병원이 제공한 자료를 바탕으로 콘텐츠를 제작 중인 상태. | `초안 검토 필요` | 리걸케어에서 초안 작성 완료 후 검토 요청 |
| `초안 검토 필요` | 리걸케어에서 작성한 초안을 병원에서 검토하고 피드백을 제공하는 상태. | `리걸케어 작업 중` or `작업 완료` | 병원에서 '수정 요청' 또는 '승인' |
| `작업 완료` | 모든 검토와 수정이 완료되어 발행이 확정되었거나, 이미 발행된 상태. 최종 SEO/의료법 검토 결과를 확인할 수 있음. | - | - |

### 4. 핵심 기능 및 Airtable 연동 관계

- **칸반 보드**: 메디컨텐츠 메인 페이지에서 포스팅들을 `Status`에 따라 칸반 보드 형태로 시각화하여 전체 워크플로우를 한눈에 파악할 수 있습니다.
- **상세 페이지 (전환 포스팅)**:
    - **자료 요청 (`자료 제공 필요`, `병원 작업 중`)**: 병원은 `Post Data Requests` 테이블과 연결된 폼을 통해 텍스트 자료를 입력하고, 이미지를 업로드합니다.
        - 텍스트 데이터는 `Post Data Requests` 테이블의 해당 레코드에 직접 업데이트됩니다.
        - 이미지는 서버(`public/uploads/medicontent/`)에 먼저 업로드된 후, 해당 이미지의 URL이 `Post Data Requests` 테이블의 이미지 관련 필드(예: `Before Images`)에 쉼표로 구분된 문자열 형태로 저장됩니다.
    - **초안 검토 (`초안 검토 필요`)**: 리걸케어가 `Medicontent Posts` 테이블의 `Content` 필드에 작성한 HTML 초안이 화면 좌측에 렌더링됩니다. 병원은 이를 보고 `Post Communications`를 통해 피드백을 남길 수 있습니다.
    - **최종 결과 확인 (`작업 완료`)**: `Post Reviews` 테이블에 저장된 최종 SEO 및 의료법 검토 결과가 점수와 체크리스트 형태로 표시됩니다.

---

## 🚀 시작하기

1.  저장소를 클론합니다.
    ```bash
    git clone https://github.com/minryu87/medi_demo.git
    cd medi_demo/appletree_demo
    ```

2.  필요한 패키지를 설치합니다.
    ```bash
    npm install
    ```

3.  `.env` 파일을 생성하고 Airtable API 키와 Base ID를 입력합니다.
    ```env
    NEXT_PUBLIC_AIRTABLE_API_KEY=YOUR_API_KEY
    NEXT_PUBLIC_AIRTABLE_BASE_ID=YOUR_BASE_ID
    ```

4.  개발 서버를 실행합니다.
    ```bash
    npm run dev
    ```

5.  브라우저에서 `http://localhost:3000`으로 접속합니다.
